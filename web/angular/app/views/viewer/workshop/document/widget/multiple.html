<div class="answer-list">
  <div ng-repeat="item in ctrl.widget._embedded.extended_settings.choices">
    <div class="layout-row layout-align-start-center" ng-class="{'good-answer': (exists($index + 1, ctrl.myResponse) && !ctrl.canAnswer && exists($index + 1, ctrl.rightAnswers))
    ,'other-answer': !exists($index + 1, ctrl.myResponse) && !ctrl.canAnswer && exists($index + 1, ctrl.correctAnswers) && !ctrl.widget._embedded.extended_settings.advanced_settings.hide_solution
    ,'wrong-answer': !ctrl.canAnswer && exists($index + 1, ctrl.myResponse) && !exists($index + 1, ctrl.rightAnswers) && !canRetry}">
        <md-checkbox ng-disabled="!ctrl.canAnswer || ctrl.timeStopped" class="md-primary md-secondary flex layout-row layout-align-start-center" ng-checked="exists($index + 1, ctrl.myResponse)" ng-click="toggle($index + 1, ctrl.myResponse)" aria-label="{{::item.label}}">
          <div ng-switch="ctrl.widget._embedded.extended_settings.advanced_settings.type">
            <span ng-switch-when="text">
              {{item.label}}
            </span>
            <div ng-switch-when="image" class="flex image-container layout-column layout-align-center-center">
              <div class="answer-text centered" ng-if="exists($index + 1, ctrl.myResponse) && !exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
                <span translate>WORKSHOP.QUESTIONNAIRE.WRONG</span>
              </div>
              <div class="answer-text centered" ng-if="exists($index + 1, ctrl.myResponse) && exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
                <span translate>WORKSHOP.QUESTIONNAIRE.PLUR_CONGRATS</span>
              </div>
              <div class="answer-text centered" ng-if="!exists($index + 1, ctrl.myResponse) && !ctrl.canAnswer && exists($index + 1, ctrl.correctAnswers) && !ctrl.widget._embedded.extended_settings.advanced_settings.hide_solution && !ctrl.canRetry">
                <span translate>WORKSHOP.QUESTIONNAIRE.GOOD_ANSWER_TOO</span>
              </div>
              <div bns-media-preview media-id="item.media_id" size="widget_contain" link-id="ctrl.widget.id" link-class="WorkshopWidget"></div>
            </div>
          </div>
          <div class="bns-viewer-audio flex-80 layout-column" ng-if="ctrl.widget._embedded.extended_settings.advanced_settings.type == 'audio'">
            <div class="answer-text centered" ng-if="exists($index + 1, ctrl.myResponse) && !exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
              <span translate>WORKSHOP.QUESTIONNAIRE.WRONG</span>
            </div>
            <div class="answer-text centered" ng-if="exists($index + 1, ctrl.myResponse) && exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
              <span translate>WORKSHOP.QUESTIONNAIRE.PLUR_CONGRATS</span>
            </div>
            <div class="answer-text centered" ng-if="!exists($index + 1, ctrl.myResponse) && !ctrl.canAnswer && exists($index + 1, ctrl.correctAnswers) && !ctrl.widget._embedded.extended_settings.advanced_settings.hide_solution && !ctrl.canRetry">
              <span translate>WORKSHOP.QUESTIONNAIRE.GOOD_ANSWER_TOO</span>
            </div>
            <div bns-viewer-audio-player media-id="item.media_id" link-id="ctrl.widget.id" link-class="WorkshopWidget" no-visualization="true" class="no-visualization questionnaire-audio" bns-eat-click-if="true"></div>
          </div>
        </md-checkbox>
        <div ng-if="ctrl.widget._embedded.extended_settings.advanced_settings.type === 'text'">
          <div class="flex-none answer-text" ng-if="exists($index + 1, ctrl.myResponse) && !exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
            <span translate>WORKSHOP.QUESTIONNAIRE.WRONG</span>
          </div>
          <div class="flex-none answer-text" ng-if="exists($index + 1, ctrl.myResponse) && exists($index + 1, ctrl.rightAnswers) && !ctrl.canAnswer">
            <span translate>WORKSHOP.QUESTIONNAIRE.PLUR_CONGRATS</span>
          </div>
          <div class="flex-none answer-text" ng-if="!exists($index + 1, ctrl.myResponse) && !ctrl.canAnswer && exists($index + 1, ctrl.correctAnswers) && !ctrl.widget._embedded.extended_settings.advanced_settings.hide_solution && !ctrl.canRetry">
            <span translate>WORKSHOP.QUESTIONNAIRE.GOOD_ANSWER_TOO</span>
          </div>
        </div>
    </div>
  </div>
</div>
