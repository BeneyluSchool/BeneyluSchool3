<div class="md-padding">
  <h2>{{ 'BUILDERS.TITLE_REALIZE_SOLUTION' | translate:{name: (ctrl.book.answers[2].solution)} | uppercase }}</h2>
  <p translate>BUILDERS.PRESENTATION_REALIZE_SOLUTION</p>
</div>

<div class="layout-row md-padding" ng-if="ctrl.book.answers[ctrl.step]" ng-hide="ctrl.editing">
  <div class="flex">
    <p translate>BUILDERS.LABEL_WHAT_WE_NEED</p>
    <blockquote ng-bind-html="(ctrl.book.answers[ctrl.step].need||'-')|nl2br"></blockquote>
    <p translate>BUILDERS.LABEL_WHO_CAN_HELP</p>
    <blockquote ng-bind-html="(ctrl.book.answers[ctrl.step].help||'-')|nl2br"></blockquote>
    <p translate>BUILDERS.LABEL_WHAT_FIRST</p>
    <blockquote ng-bind-html="(ctrl.book.answers[ctrl.step].first||'-')|nl2br"></blockquote>
  </div>
  <md-button class="md-icon-button flex flex-none" ng-click="ctrl.setupEdit()">
    <md-icon>edit</md-icon>
  </md-button>
</div>

<form ng-show="!ctrl.book.answers[ctrl.step] || ctrl.editing" ng-submit="ctrl.submitAnswer(ctrl.step)" class="md-padding">
  <div class="layout-row">
    <div class="flex">
      <md-input-container>
        <label translate>BUILDERS.LABEL_WHAT_WE_NEED</label>
        <input type="text" ng-model="ctrl.answers[ctrl.step].need">
      </md-input-container>
      <md-input-container>
        <label translate>BUILDERS.LABEL_WHO_CAN_HELP</label>
        <input type="text" ng-model="ctrl.answers[ctrl.step].help">
      </md-input-container>
      <md-input-container>
        <label translate>BUILDERS.LABEL_WHAT_FIRST</label>
        <input type="text" ng-model="ctrl.answers[ctrl.step].first">
      </md-input-container>
    </div>
    <md-button type="button" ng-if="ctrl.editing" class="md-icon-button flex flex-none" ng-click="ctrl.cancelEdit()">
      <md-icon>undo</md-icon>
    </md-button>
  </div>

  <div class="text-center">
    <md-button type="submit" ng-disabled="ctrl.busy" class="md-primary md-raised">
      <span translate>BUILDERS.BUTTON_SAVE_ANSWER</span>
    </md-button>
  </div>
</form>

<div bns-builders-step-next></div>

<bns-builders-step-bubble class="bubble-jim" label-number="1"></bns-builders-step-bubble>
<bns-builders-step-bubble class="bubble-brabrabra" label-number="2"></bns-builders-step-bubble>
<bns-builders-step-bubble class="bubble-carla" label-number="3"></bns-builders-step-bubble>
